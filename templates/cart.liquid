<section class="container" id="main-cart-section"> 
  <div class="row cart-information">
    <div class="col-md-12">
      <div class="row">

        <div class="col-md-12 cart-content">
          <h1 class="f-80">CART</h1>

          {% if cart.item_count > 0 %}

            <form data-cart-view="data-cart-view" action="cart/update">
              <div class="items" id="all-cart-items">

                <div rv-each-item="cart.items" class="item" rv-data-product-variant-id="item.variant_id" rv-data-product-key="item.product_id">
                
                  <div class="row">
                      <div class="image-wrapper">
                        <img rv-src="item.image | productImageSize 'medium'" class="image">
                      </div>
                      <div class="row product-text">
                        <div class="titles">
                          <div class="title-and-properties">
                            <h2 class="name" rv-text="item.product_title"></h2>

                            {% comment %} Properties List {% endcomment %}
                            <ul class="item-properties-list" rv-hide="item.properties.size > 0">
                              <li>
                                <p rv-hide="item.properties.color | empty" class="property">Color:  { item.properties.color }</p>
                              </li>
                              <li>
                                <p rv-hide="item.properties.size | empty" class="property">Size:  { item.properties.size }</p>
                              </li>
                            </ul>

                          </div>

                          <p class="price" rv-html="item.final_line_price | money"></p>
                        </div>
                        
                        
                        
                        {% comment %} paywhirl {% endcomment %}
                        {% render 'paywhirl-subscriptions-cart-selling-plans', item: item %}

                        <div class="quantity">
                          <div class="control">
                            <div class="minus">
                              <a class="externe" href="#" rv-data-cart-update="index | plus 1" rv-data-cart-quantity="item.quantity | minus 1">-</a>
                            </div>

                            <div class="qty cart__qty-input">
                              <span rv-html="item.quantity"></span>
                            </div>
                            
                            <div class="plus">
                              <a class="externe" href="#" rv-data-cart-update="index | plus 1" rv-data-cart-quantity="item.quantity | plus 1">+</a>
                            </div>
                        </div> 
                      </div>
                  </div>
                </div>
              </div>
              
              <div class="total row">
                <p>Subtotal:</p>
                <p><span class="cart__subtotal" rv-html="cart.total_price | money"></span></p>
                <div class="cart-free-shipping hide-message">
                  <p>Spend $<span class="remaining-price">150</span> <span class="dark">more to get </span> free shipping</p>
                </div>  
              </div>

              <div class="row button-row">
                <a href="{{ routes.root_url }}" class="regular-button no-border">
                  <span class="text">Back to shopping</span>
                </a>

                <a class="regular-button checkout pink" href="/checkout">
                <span class="text">TO CHECKOUT</span>
                </a>
              </div>

            </form>

          {% else %}
            
            <p>Your cart is empty</p>

          {% endif %}

          </div>
        </div>


      </div>

    </div>
  </div>
</div>
